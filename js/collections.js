var collectionList = [
    {
        alignment: "Zarosian",
        collectors: ["Velucia", "Soran"],
        collections: [
            {
                number: "I",
                display: "Zarosian I - (25)",
                artefacts: []
            },
            {
                number: "II",
                display: "Zarosian II - (81)",
                artefacts: []
            },
            {
                number: "III",
                display: "Zarosian III - (107)",
                artefacts: []
            },
            {
                number: "IV",
                display: "Zarosian IV - (118)",
                artefacts: []
            },
            {
                number: "V",
                display: "Zarosian V - (62)",
                artefacts: []
            },
            {
                number: "VI",
                display: "Zarosian VI - (64)",
                artefacts: []
            },
            {
                number: "VII",
                display: "Zarosian VII - (67)",
                artefacts: []
            }
        ]
    },
    {
        alignment: "Zamorakian",
        collectors: ["Velucia", "Isaura"],
        collections: [
            {
                number: "I",
                display: "Zamorakian I - (36)",
                artefacts: []
            },
            {
                number: "II",
                display: "Zamorakian II - (81)",
                artefacts: []
            },
            {
                number: "III",
                display: "Zamorakian III - (104)",
                artefacts: []
            },
            {
                number: "IV",
                display: "Zamorakian IV - (116)",
                artefacts: []
            }
        ]
    },
    {
        alignment: "Saradominist",
        collectors: ["Velucia", "Sir Atcha"],
        collections: [
            {
                number: "I",
                display: "Saradominist I - (56)",
                artefacts: []
            },
            {
                number: "II",
                display: "Saradominist II - (72)",
                artefacts: []
            },
            {
                number: "III",
                display: "Saradominist III - (100)",
                artefacts: []
            },
            {
                number: "IV",
                display: "Saradominist IV - (117)",
                artefacts: []
            }
        ]
    },
    {
        alignment: "Armadylean",
        collectors: ["Velucia", "Lowse"],
        collections: [
            {
                number: "I",
                display: "Armadylean I - (81)",
                artefacts: []
            },
            {
                number: "II",
                display: "Armadylean II - (98)",
                artefacts: []
            },
            {
                number: "III",
                display: "Armadylean III - (118)",
                artefacts: []
            }
        ]
    },
    {
        alignment: "Bandosian",
        collectors: ["Velucia"],
        collections: [
            {
                number: "I",
                display: "Bandosian I - (89)",
                artefacts: []
            },
            {
                number: "II",
                display: "Bandosian II - (100)",
                artefacts: []
            },
            {
                number: "III",
                display: "Bandosian III - (119)",
                artefacts: []
            }
        ]
    },
    {
        alignment: "Dragonkin",
        collectors: ["Velucia", "Sharrigan"],
        collections: [
            {
                number: "I",
                display: "Dragonkin I - (99)",
                artefacts: []
            },
            {
                number: "II",
                display: "Dragonkin II - (102)",
                artefacts: []
            },
            {
                number: "III",
                display: "Dragonkin III - (108)",
                artefacts: []
            },
            {
                number: "IV",
                display: "Dragonkin IV - (120)",
                artefacts: []
            }
        ]
    },
    {
        collectors: ["Art Critic Jacques"],
        collections: [
            {
                display: "Anarchic Abstraction - (89)",
                artefacts: [
                    "'Disorder' painting",
                    "'The Lake of Fire' painting",
                    "'Pandemonium' tapestry"
                ]
            },
            {
                display: "Radiant Rennaissance - (105)",
                artefacts: [
                    "'The Pride of Padosan' painting",
                    "'Hallowed Be the Everlight' painting",
                    "'The Lord of Light' painting",
                ]
            },
            {
                display: "Imperial Impressionalism - (118)",
                artefacts: [
                    "'Solem in Umbra' painting",
                    "'Consensus ad Idem' painting",
                    "'Prima Legio' painting"
                ]
            }
        ]
    },
    {
        collectors: ["Chief Tess"],
        collections: [
            {
                display: "Blingy Fings - (69)",
                artefacts: [
                    "Ancient timepiece",
                    "Legatus pendant",
                    "Pontifex signet ring",
                    "Bronze Dominion medal",
                    "Silver Dominion medal"
                ]
            },
            {
                display: "Smoky Fings - (81)",
                artefacts: [
                    "Hookah pipe",
                    "Opulent wine goblet",
                    "Everlight trumpet",
                    "Dominion torch",
                    "Pontifex censer"
                ]
            },
            {
                display: "Hitty Fings - (89)",
                artefacts: [
                    "Ceremonial mace",
                    "Pontifex crozier",
                    "Fishing trident",
                    "High priest crozier",
                    "High priest orb"
                ]
            },
            {
                display: "Showy Fings - (92)",
                artefacts: [
                    "Crest of Dagon",
                    "Legatus Maximus figurine",
                    "'Lust' metal sculpture",
                    "Pontifex Maximus figurine",
                    "Ceremonial plume",
                    "Rod of Asclepius"
                ]
            }
        ]
    },
    {
        collectors: ["General Bentnoze"],
        collections: [
            {
                display: "Red Rum Relics I - (94)",
                artefacts: [
                    "Ogre Kyzaj axe",
                    "Ork cleaver sword",
                    "Beastkeeper helm",
                    "'Nosorog!' sculpture",
                ]
            },
            {
                display: "Red Rum Relics II - (110)",
                artefacts: [
                     "Ourg megahitter",
                     "Ourg tower/goblin cower shield",
                     "'Forged in War' sculpture",
                     "Hobgoblin mansticker"
                ]
            },
            {
                display: "Red Rum Relics III - (119)",
                artefacts: [
                    "Kal-i-kran chieftain crown",
                    "Kal-i-kran mace",
                    "Kal-i-kran warhorn",
                    "'Da Boss Man' sculpture"
                ]
            }
        ]
    },
    {
        collectors: ["General Wartface"],
        collections: [
            {
                display: "Green Gobbo Goodies I - (83)",
                artefacts: [
                    "Ekeleshuun blinder mask",
                    "Narogoshuun 'Hob-da-Gob' ball",
                    "Rekeshuun war tether",
                    "Thorobshuun battle standard",
                    "Yurkolgokh stink grenade"
                ]
            },
            {
                display: "Green Gobbo Goodies II - (97)",
                artefacts: [
                    "High priest crozier",
                    "High priest mitre",
                    "High priest orb",
                    "Idithuun horn ring",
                    "Garagorshuun anchor"
                ]
            },
            {
                display: "Green Gobbo Goodies III - (119)",
                artefacts: [
                    "Dorgeshuun spear",
                    "Huzamogaarb chaos crown",
                    "Saragorgak star crown",
                    "Drogokishuun hook sword",
                    "Horogothgar cooking pot",
                    "'Da Boss Man' sculpture"
                ]
            }
        ]
    },
    {
        collectors: ["Wise Old Man"],
        collections: [
            {
                display: "Wise Am the Music Man - (91)",
                artefacts: [
                    "Everlight harp",
                    "Everlight trumpet",
                    "Everlight violin",
                    "Avian song-egg player",
                    "Keshik drum",
                    "Morin khuur",
                    "Songbird recorder"
                ]
            },
            {
                display: "Hat Problem - (114)",
                artefacts: [
                    "Imp mask",
                    "Ekeleshuun blinder mask",
                    "High priest mitre",
                    "Beastkeeper helm",
                    "Huzamogaarb chaos crown",
                    "Flat cap",
                    "Praetorian hood"
                ]
            },
            {
                display: "Hat Hoarder - (116)",
                artefacts: [
                    "Lesser demon mask",
                    "Greater demon mask",
                    "Ceremonial unicorn ornament",
                    "Pontifex mitre",
                    "Saragorgak star crown",
                    "Kal-i-kran chieftain crown",
                    "Tsutsaroth helm"
                ]
            },
            {
                display: "Magic Man - (118)",
                artefacts: [
                    "Legatus Maximus figurine",
                    "Ritual dagger",
                    "Ancient timepiece",
                    "'Incite Fear' spell scroll",
                    "'Exsanguinate' spell scroll",
                    "High priest mitre",
                    "'Smoke Cloud' spell scroll",
                    "Portable phylactery",
                    "'Animate Dead' spell scroll",
                    "Chuluu stone"
                ]
            },
            {
                display: "Knowledge is Power - (119)",
                artefacts: [
                    "Crest of Dagon",
                    "Ikovian gerege",
                    "Necromantic focus",
                    "Golem instruction",
                    "'The Enlightened Soul' scroll",
                    "'The Eudoxian Elements' tablet",
                    "'Da Boss Man' sculpture"
                ]
            }
        ]
    },
    {
        collectors: ["Eblis"],
        collections: [
            {
                display: "Finery of the Inquisition - (64)",
                artefacts: [
                    "Inquisitor's ceremonial armour",
                    "Inquisitor's ceremonial mask",
                    "Inquisitor's seal"
                ]
            },
            {
                display: "Finery of the Inquisition - (67)",
                artefacts: [
                    "Apex cap",
                    "Infula robes",
                    "Loarnab rod",
                    "'The Serpent's Fall' carving"
                ]
            },
            {
                display: "Urns of the Empire - (67)",
                artefacts: [
                    "Funerary urn of shadow",
                    "Funerary urn of smoke",
                    "Funerary urn of ice",
                    "Funerary urn of blood",
                    "Funerary urn of miasma"
                ]
            },
            {
                display: "Entertaining the Masses - (67)",
                artefacts: [
                    "Decorative amphora",
                    "Gladiator helmet",
                    "Gladiator sword",
                    "Model chariot"
                ]
            },
            {
                display: "Imperial Sorcery - (107)",
                artefacts: [
                    "'Incite Fear' spell scroll",
                    "Curse tablet",
                    "'Exsanguinate' spell scroll",
                    "Necromantic focus",
                    "'Smoke Cloud' spell scroll",
                    "Ancient magic tablet",
                    "'Animate Dead' spell scroll"
                ]
            }
        ]
    }
]

function createCollections() {
    for (i = 0; i < collectionList.length; i++) {
        var category = collectionList[i];

        if (["Zarosian", "Zamorakian", "Saradominist",
              "Armadylean", "Bandosian", "Dragonkin"]
              .includes(category.alignment)) {
            for (x in category.collections) {
                $(".artefact").each(function () {
                    if ($(this).hasClass(category.alignment) && $(this).hasClass(category.collections[x].number)) {
                        category.collections[x].artefacts.push($(this).data("artefact"));
                    }
                });
            }
        }
    }
}

function highlight(matchlist) {
    var matchlist = [matchlist].flat(); //wrap for single object case
    $(".artefact").each(function() {
        if(matchlist.includes($(this).data("artefact"))) {
            $(this).css("display", "table-row").addClass("highlight");
        } else {
            if(!$(this).hasClass("highlight")) {
                $(this).css("display", "none");
            }
        }
    });
}

function removeHighlights() {
    $(".collectionViewer").data("active", false);
    $(".artefact").css("display", "table-row").removeClass("highlight");
}


function highlightCollection(collection) {
    if (collection.startsWith("Museum - ")) {
      collection = collection.substring(9);
    }
    removeHighlights();

    for(i in collectionList) {
        for(x in collectionList[i].collections) {
            if(collectionList[i].collections[x].display == collection) {
                highlight(collectionList[i].collections[x].artefacts);
            }
        }
    }
}
